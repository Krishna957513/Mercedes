/ SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

/*
 * @title WishBox
 * @dev A simple contract where users can store their wishes permanently on the blockchain.
 */
contract WishBox {
    struct Wish {
        address wisher;
        string message;
        uint256 timestamp;
    }

    Wish[] public wishes;
    event NewWish(address indexed wisher, string message, uint256 timestamp);

    // Function to add a new wish
    function makeWish(string memory _message) public {
        require(bytes(_message).length > 0, "Wish cannot be empty");
        wishes.push(Wish(msg.sender, _message, block.timestamp));
        emit NewWish(msg.sender, _message, block.timestamp);
    }

    // Function to view total number of wishes
    function getTotalWishes() public view returns (uint256) {
        return wishes.length;
    }

    // Function to get all wishes
    function getAllWishes() public view returns (Wish[] memory) {
        return wishes;
    }
}
